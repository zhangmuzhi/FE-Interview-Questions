<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、I/O 模型 | FE-Interview</title>
    <meta name="description" content="前端面试题整理">
    <link rel="icon" href="/FE-Interview-Questions/logo.png">
  <link rel="manifest" href="/FE-Interview-Questions/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/FE-Interview-Questions/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/FE-Interview-Questions/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="apple-mobile-web-app-status-bar-style">
    
    <link rel="preload" href="/FE-Interview-Questions/assets/css/0.styles.fbd787a6.css" as="style"><link rel="preload" href="/FE-Interview-Questions/assets/js/app.1516a5c8.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/4.5257618b.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/2.de1b844a.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/160.c1f7f702.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/16.9ef3ba34.js" as="script"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/10.c1395ca4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/100.52a21809.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/101.adb71590.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/102.fca44647.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/103.adf3c5fe.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/104.a94610b0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/105.3bd59e8f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/106.5c7662db.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/107.703879ba.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/108.b71a8a48.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/109.f5027c88.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/11.16bd7d86.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/110.331d2ea8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/111.31123713.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/112.c4fe6543.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/113.d798350a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/114.4217b3cf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/115.d16b6e23.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/116.e34432af.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/117.15b82373.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/118.e642e08c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/119.67fd07f0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/12.2762a7c2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/120.30e02c17.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/121.a845e467.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/122.4b7413a0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/123.adffc730.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/124.e092778c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/125.4f3de85d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/126.d02f16e8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/127.541ff7ec.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/128.c7a9e3c0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/129.a9053e56.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/13.c4add030.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/130.a828a3b3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/131.bf27613d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/132.a66c1144.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/133.e1fc6fff.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/134.7964de8f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/135.7f9ac756.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/136.fa870cfc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/137.59b5caed.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/138.67dbddb5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/139.9104b038.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/14.a5168956.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/140.3f0b0867.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/141.f478cff1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/142.d4a1112e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/143.f2f4004a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/144.388efeae.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/145.0fa237bf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/146.0c70fc91.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/147.c9f9a814.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/148.e6fc432a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/149.482071b7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/15.5f9f5c0d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/150.ac4de1e4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/151.cd25a817.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/152.a791c489.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/153.55dca6a9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/154.e2b8bf07.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/155.97fc73c8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/156.3de00f5a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/157.f36984c9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/158.42a2d74a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/159.742c0226.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/161.890682ce.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/162.41226739.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/163.2ecdc148.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/164.8657b011.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/165.3a50a60e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/166.e32107c0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/167.324bf545.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/168.8d9506e5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/169.20c63109.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/17.6a8bf84b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/170.5d61fd38.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/171.8f60182e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/172.71fe2482.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/173.371ca849.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/174.cf1e4afd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/175.cde9d5d8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/176.4e94c26c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/177.5f9c6cb8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/178.821bd66d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/179.7995efe6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/18.1e216bfb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/180.117fe76f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/181.4dc3e28b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/182.9754edbe.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/183.7b423417.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/184.805f21a9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/185.0e41c0b2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/186.6455e567.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/187.9953b4e9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/188.8386be1c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/189.303ffcb6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/19.3837e224.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/190.700fde0b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/191.606451c1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/192.1af4dcc0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/193.59f0ea64.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/194.51a36996.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/195.70b4c01a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/196.a9a14dcb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/197.b52a18c0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/198.51cf170a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/199.0b019252.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/20.2a14294e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/200.0759b9a8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/201.e0c214bf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/202.74806381.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/203.477df7d2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/204.d471b9e7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/205.aa90dadd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/206.0a30b0e6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/207.dad42db0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/208.a59ba8cb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/209.06935961.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/21.e9f7263c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/210.37c3b61a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/211.aa43ff3c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/212.ebd7dd74.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/213.f1f6484f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/214.10df9a63.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/215.97969abe.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/216.af7939dc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/217.eb709367.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/218.9762d46e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/219.733eb002.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/22.82e5498b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/220.338cef85.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/221.00017a7d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/222.318b01a3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/223.74b1dc9a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/224.e6f21f3c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/225.704656c3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/226.08c5214b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/227.3f61aa3a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/228.59484860.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/229.3766d840.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/23.63e3d4d4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/230.d432ecef.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/231.1a8bf95f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/232.008d7125.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/233.a8e09119.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/234.5412298f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/235.d4a5825f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/236.b6057a06.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/237.cb1cbddb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/238.6150d3c5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/239.187fd53e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/24.3327de66.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/240.7343c3da.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/241.5c51fb1a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/242.08f4b459.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/243.1f9712f4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/244.14023e99.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/245.5a46f7d8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/246.26c25686.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/247.043c9550.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/248.bcafaed3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/249.a3942609.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/25.9d07fb9c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/250.cde2e06d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/251.1a2d1edf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/252.3fb15713.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/253.bec0b9d5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/254.31ea7c9d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/255.fd9203bb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/256.a5c87fde.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/257.2c7755f1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/258.67bd340c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/259.f1617416.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/26.23752b34.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/260.955d0682.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/261.04a7cdb4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/262.d71e32b4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/263.d4cc923b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/264.5c2c33a5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/265.54db6c06.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/266.56aad7cf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/267.71d7c4b2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/268.88b72b8f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/269.5984b435.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/27.a54a2d44.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/270.437df1c0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/271.d42543ff.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/272.93fed1b9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/273.77bd5c5b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/274.d6683b7c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/275.5a7ee4a6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/276.ff9fc08c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/277.076f068e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/278.0f481cb4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/279.e105156d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/28.5e23442c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/280.075dd14d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/281.66c0ba31.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/282.b95856de.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/283.e264cda3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/284.04e00edf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/285.ebe6461f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/286.5423adac.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/287.de036480.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/288.7eaad79e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/289.f93d3c5d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/29.940268ee.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/290.a38fc922.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/291.245e1c8f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/292.7e5d86e6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/293.c8ac258a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/294.57ee30ca.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/295.3788c91e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/296.23a070cd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/297.914a6c88.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/298.73df8f52.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/299.00c4c6c6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/3.a058d522.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/30.e17d0218.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/300.1c4ac39e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/301.c572d1d0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/302.cc2e4120.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/303.c4b9ca9c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/304.02a99d62.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/305.fbbee99f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/306.1ff61432.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/307.399d4724.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/308.104140a9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/309.5cfb3e3e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/31.624d8183.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/310.0c1c6e94.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/311.43c5ab47.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/312.f96112c7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/313.393bb626.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/314.e769e36c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/315.da2a5418.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/316.da570ea8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/317.e79c99e9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/318.c414a9c7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/319.5966d23c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/32.23da1443.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/320.42825491.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/321.97f6aefe.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/322.c96c7664.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/323.8a76b74d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/324.2f0cfc91.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/325.693abe1f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/326.a5a5acd8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/327.c642f77b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/328.22553c41.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/329.b11a5041.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/33.733f75d3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/330.3f384c88.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/331.f37ba28a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/332.45774389.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/333.1f66af9c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/334.59adc434.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/335.9e7b38a4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/336.e6090a5c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/337.d7fbd5cd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/338.c3425550.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/339.b0b7e765.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/34.db59d40a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/340.d023ffe2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/341.6358571c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/342.0bd7c964.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/343.c27fc629.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/344.f9c755f6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/345.47405038.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/346.2baeafc8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/347.d3947f07.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/35.88cc3602.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/36.682feb5c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/37.6b0a4069.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/38.3d86024d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/39.3161f10f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/40.5df286dd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/41.cd3d50c5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/42.8860c1a1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/43.4b4594d6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/44.e4b538d2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/45.b9f25be3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/46.af93a58a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/47.9b321ff6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/48.01e02f49.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/49.0e584ec6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/5.34a10df1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/50.8e294c7e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/51.d5dcb11c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/52.56be2a10.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/53.ce6851dd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/54.006c40b5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/55.56835c3c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/56.2c2e136d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/57.2d604bfc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/58.62941ece.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/59.479cbcf7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/6.4b7a06fd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/60.e62bc3d0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/61.0cf0f6dd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/62.7049d6b8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/63.40ba9b90.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/64.acb56df6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/65.deb2384f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/66.8fe492fb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/67.268e352f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/68.0b20e78c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/69.00194b05.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/7.b1b88261.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/70.bdebcb2e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/71.84a82efd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/72.e113c169.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/73.a45b9d51.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/74.f2f8d244.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/75.e0113193.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/76.ff8dbfdd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/77.1af1117a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/78.f1810e9f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/79.b031cbc8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/8.20c58a37.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/80.26fafdb2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/81.a26622b0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/82.ace48e00.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/83.ef0f3714.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/84.34ef8032.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/85.c531e4fb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/86.e02f97b1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/87.763e224c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/88.03506eae.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/89.c81e9766.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/9.46b74d7d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/90.1bd09eb3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/91.002f7849.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/92.9153de29.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/93.810b844d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/94.5cca7f14.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/95.b18f127f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/96.cc5dfc86.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/97.e93025d9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/98.ec7b5b3b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/99.5166cda3.js">
    <link rel="stylesheet" href="/FE-Interview-Questions/assets/css/0.styles.fbd787a6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FE-Interview-Questions/" class="home-link router-link-active"><img src="/FE-Interview-Questions/logo.png" alt="FE-Interview" class="logo"> <span class="site-name can-hide">FE-Interview</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FE-Interview-Questions/docs/base.html" class="nav-link">基础</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/improve.html" class="nav-link">中级</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/advance.html" class="nav-link">进阶</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/excellent.html" class="nav-link">高频</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/guide.html" class="nav-link">指南</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/computed-base.html" class="nav-link">通识</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/detail-expain.html" class="nav-link">详解</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/simply.html" class="nav-link">简版</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/review.html" class="nav-link">回顾</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/performance.html" class="nav-link">性能</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/handwritten.html" class="nav-link">手写</a></div><div class="nav-item"><a href="/FE-Interview-Questions/principle-docs/vue/01-剖析 Vue 内部运行机制.html" class="nav-link">原理</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/other-questions.html" class="nav-link">问题</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/qa.html" class="nav-link">QA</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展阅读" class="dropdown-title"><span class="title">拓展阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>专题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/design-pattern.html" class="nav-link">设计模式</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/algorithm/prepare/01-如何系统高效地学习数据结构与算法.html" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/vue-analysis/prepare/" class="nav-link">vue源码</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/browser/part1/lesson01.html" class="nav-link">浏览器</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/http-protocol/base/01-HTTP的前世今生.html" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/ts-axios/chapter1/" class="nav-link">TS</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/nodejs-docs/base/01-环境搭建.html" class="nav-link">Nodejs</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/npm-script.html" class="nav-link">npm script</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/vue-component.html" class="nav-link">Vue组件精讲</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/compute-docs/Linux.html" class="nav-link">计算机基础</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://blog.poetries.top/handbook/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  手册
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://blog.poetries.top/css-reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  css参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="http://interview.poetries.top/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  国内站点
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FE-Interview-Questions/docs/base.html" class="nav-link">基础</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/improve.html" class="nav-link">中级</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/advance.html" class="nav-link">进阶</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/excellent.html" class="nav-link">高频</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/guide.html" class="nav-link">指南</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/computed-base.html" class="nav-link">通识</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/detail-expain.html" class="nav-link">详解</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/simply.html" class="nav-link">简版</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/review.html" class="nav-link">回顾</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/performance.html" class="nav-link">性能</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/handwritten.html" class="nav-link">手写</a></div><div class="nav-item"><a href="/FE-Interview-Questions/principle-docs/vue/01-剖析 Vue 内部运行机制.html" class="nav-link">原理</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/other-questions.html" class="nav-link">问题</a></div><div class="nav-item"><a href="/FE-Interview-Questions/docs/qa.html" class="nav-link">QA</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展阅读" class="dropdown-title"><span class="title">拓展阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>专题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/design-pattern.html" class="nav-link">设计模式</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/algorithm/prepare/01-如何系统高效地学习数据结构与算法.html" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/vue-analysis/prepare/" class="nav-link">vue源码</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/browser/part1/lesson01.html" class="nav-link">浏览器</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/http-protocol/base/01-HTTP的前世今生.html" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/ts-axios/chapter1/" class="nav-link">TS</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/nodejs-docs/base/01-环境搭建.html" class="nav-link">Nodejs</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/npm-script.html" class="nav-link">npm script</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/docs/vue-component.html" class="nav-link">Vue组件精讲</a></li><li class="dropdown-subitem"><a href="/FE-Interview-Questions/compute-docs/Linux.html" class="nav-link">计算机基础</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://blog.poetries.top/handbook/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  手册
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://blog.poetries.top/css-reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  css参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="http://interview.poetries.top/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  国内站点
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav> <div style="padding-left:1.5rem;"><div class="qr"><img src="/FE-Interview-Questions/assets/img/qr.ee193d28.jpg" alt="poetries" width="120" height="120" loading="lazy"> <p class="we-intro">
    关注公众号，获取更多资讯
  </p></div></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>计算机基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/compute-docs/Linux.html" class="sidebar-link">Linux</a></li><li><a href="/FE-Interview-Questions/compute-docs/Network.html" class="sidebar-link">Network</a></li><li><a href="/FE-Interview-Questions/compute-docs/OS.html" class="sidebar-link">OS</a></li><li><a href="/FE-Interview-Questions/compute-docs/SQL.html" class="sidebar-link">SQL</a></li><li><a href="/FE-Interview-Questions/compute-docs/MySQL.html" class="sidebar-link">MySQL</a></li><li><a href="/FE-Interview-Questions/compute-docs/Redis.html" class="sidebar-link">Redis</a></li><li><a href="/FE-Interview-Questions/compute-docs/Socket.html" class="active sidebar-link">Socket</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#阻塞式-i-o" class="sidebar-link">阻塞式 I/O</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#非阻塞式-i-o" class="sidebar-link">非阻塞式 I/O</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#i-o-复用" class="sidebar-link">I/O 复用</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#信号驱动-i-o" class="sidebar-link">信号驱动 I/O</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#异步-i-o" class="sidebar-link">异步 I/O</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#五大-i-o-模型比较" class="sidebar-link">五大 I/O 模型比较</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#select" class="sidebar-link">select</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#poll" class="sidebar-link">poll</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#比较" class="sidebar-link">比较</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_1-功能" class="sidebar-link">1. 功能</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_2-速度" class="sidebar-link">2. 速度</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_3-可移植性" class="sidebar-link">3. 可移植性</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#epoll" class="sidebar-link">epoll</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#工作模式" class="sidebar-link">工作模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_1-lt-模式" class="sidebar-link">1. LT 模式</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_2-et-模式" class="sidebar-link">2. ET 模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#应用场景" class="sidebar-link">应用场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_1-select-应用场景" class="sidebar-link">1. select 应用场景</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_2-poll-应用场景" class="sidebar-link">2. poll 应用场景</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/compute-docs/Socket.html#_3-epoll-应用场景" class="sidebar-link">3. epoll 应用场景</a></li></ul></li></ul></li><li><a href="/FE-Interview-Questions/compute-docs/攻击技术.html" class="sidebar-link">攻击技术</a></li><li><a href="/FE-Interview-Questions/compute-docs/缓存.html" class="sidebar-link">缓存</a></li><li><a href="/FE-Interview-Questions/compute-docs/集群.html" class="sidebar-link">集群</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content lock"><div class="content__default"><h1 id="一、i-o-模型"><a href="#一、i-o-模型" class="header-anchor">#</a> 一、I/O 模型</h1> <p>一个输入操作通常包括两个阶段：</p> <ul><li>等待数据准备好</li> <li>从内核向进程复制数据</li></ul> <p>对于一个套接字上的输入操作，第一步通常涉及等待数据从网络中到达。当所等待数据到达时，它被复制到内核中的某个缓冲区。第二步就是把数据从内核缓冲区复制到应用进程缓冲区。</p> <p>Unix 有五种 I/O 模型：</p> <ul><li>阻塞式 I/O</li> <li>非阻塞式 I/O</li> <li>I/O 复用（select 和 poll）</li> <li>信号驱动式 I/O（SIGIO）</li> <li>异步 I/O（AIO）</li></ul> <h2 id="阻塞式-i-o"><a href="#阻塞式-i-o" class="header-anchor">#</a> 阻塞式 I/O</h2> <p>应用进程被阻塞，直到数据从内核缓冲区复制到应用进程缓冲区中才返回。</p> <p>应该注意到，在阻塞的过程中，其它应用进程还可以执行，因此阻塞不意味着整个操作系统都被阻塞。因为其它应用进程还可以执行，所以不消耗 CPU 时间，这种模型的 CPU 利用率会比较高。</p> <p>下图中，recvfrom() 用于接收 Socket 传来的数据，并复制到应用进程的缓冲区 buf 中。这里把 recvfrom() 当成系统调用。</p> <div class="language-c extra-class"><pre class="language-c"><code>ssize_t <span class="token function">recvfrom</span><span class="token punctuation">(</span><span class="token keyword">int</span> sockfd<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>buf<span class="token punctuation">,</span> size_t len<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span>src_addr<span class="token punctuation">,</span> socklen_t <span class="token operator">*</span>addrlen<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1492928416812_4.png"></div><br> <h2 id="非阻塞式-i-o"><a href="#非阻塞式-i-o" class="header-anchor">#</a> 非阻塞式 I/O</h2> <p>应用进程执行系统调用之后，内核返回一个错误码。应用进程可以继续执行，但是需要不断的执行系统调用来获知 I/O 是否完成，这种方式称为轮询（polling）。</p> <p>由于 CPU 要处理更多的系统调用，因此这种模型的 CPU 利用率比较低。</p> <div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1492929000361_5.png"></div><br> <h2 id="i-o-复用"><a href="#i-o-复用" class="header-anchor">#</a> I/O 复用</h2> <p>使用 select 或者 poll 等待数据，并且可以等待多个套接字中的任何一个变为可读。这一过程会被阻塞，当某一个套接字可读时返回，之后再使用 recvfrom 把数据从内核复制到进程中。</p> <p>它可以让单个进程具有处理多个 I/O 事件的能力。又被称为 Event Driven I/O，即事件驱动 I/O。</p> <p>如果一个 Web 服务器没有 I/O 复用，那么每一个 Socket 连接都需要创建一个线程去处理。如果同时有几万个连接，那么就需要创建相同数量的线程。相比于多进程和多线程技术，I/O 复用不需要进程线程创建和切换的开销，系统开销更小。</p> <div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1492929444818_6.png"></div><br> <h2 id="信号驱动-i-o"><a href="#信号驱动-i-o" class="header-anchor">#</a> 信号驱动 I/O</h2> <p>应用进程使用 sigaction 系统调用，内核立即返回，应用进程可以继续执行，也就是说等待数据阶段应用进程是非阻塞的。内核在数据到达时向应用进程发送 SIGIO 信号，应用进程收到之后在信号处理程序中调用 recvfrom 将数据从内核复制到应用进程中。</p> <p>相比于非阻塞式 I/O 的轮询方式，信号驱动 I/O 的 CPU 利用率更高。</p> <div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1492929553651_7.png"></div><br> <h2 id="异步-i-o"><a href="#异步-i-o" class="header-anchor">#</a> 异步 I/O</h2> <p>应用进程执行 aio_read 系统调用会立即返回，应用进程可以继续执行，不会被阻塞，内核会在所有操作完成之后向应用进程发送信号。</p> <p>异步 I/O 与信号驱动 I/O 的区别在于，异步 I/O 的信号是通知应用进程 I/O 完成，而信号驱动 I/O 的信号是通知应用进程可以开始 I/O。</p> <div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1492930243286_8.png"></div><br> <h2 id="五大-i-o-模型比较"><a href="#五大-i-o-模型比较" class="header-anchor">#</a> 五大 I/O 模型比较</h2> <ul><li>同步 I/O：将数据从内核缓冲区复制到应用进程缓冲区的阶段（第二阶段），应用进程会阻塞。</li> <li>异步 I/O：第二阶段应用进程不会阻塞。</li></ul> <p>同步 I/O 包括阻塞式 I/O、非阻塞式 I/O、I/O 复用和信号驱动 I/O ，它们的主要区别在第一个阶段。</p> <p>非阻塞式 I/O 、信号驱动 I/O 和异步 I/O 在第一阶段不会阻塞。</p> <div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1492928105791_3.png"></div><br> <h1 id="二、i-o-复用"><a href="#二、i-o-复用" class="header-anchor">#</a> 二、I/O 复用</h1> <p>select/poll/epoll 都是 I/O 多路复用的具体实现，select 出现的最早，之后是 poll，再是 epoll。</p> <h2 id="select"><a href="#select" class="header-anchor">#</a> select</h2> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> fd_set <span class="token operator">*</span>readfds<span class="token punctuation">,</span> fd_set <span class="token operator">*</span>writefds<span class="token punctuation">,</span> fd_set <span class="token operator">*</span>exceptfds<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">timeval</span> <span class="token operator">*</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>select 允许应用程序监视一组文件描述符，等待一个或者多个描述符成为就绪状态，从而完成 I/O 操作。</p> <ul><li><p>fd_set 使用数组实现，数组大小使用 FD_SETSIZE 定义，所以只能监听少于 FD_SETSIZE 数量的描述符。有三种类型的描述符类型：readset、writeset、exceptset，分别对应读、写、异常条件的描述符集合。</p></li> <li><p>timeout 为超时参数，调用 select 会一直阻塞直到有描述符的事件到达或者等待的时间超过 timeout。</p></li> <li><p>成功调用返回结果大于 0，出错返回结果为 -1，超时返回结果为 0。</p></li></ul> <div class="language-c extra-class"><pre class="language-c"><code>fd_set fd_in<span class="token punctuation">,</span> fd_out<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">timeval</span> tv<span class="token punctuation">;</span>

<span class="token comment">// Reset the sets</span>
<span class="token function">FD_ZERO</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>fd_in <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">FD_ZERO</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>fd_out <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Monitor sock1 for input events</span>
<span class="token function">FD_SET</span><span class="token punctuation">(</span> sock1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd_in <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Monitor sock2 for output events</span>
<span class="token function">FD_SET</span><span class="token punctuation">(</span> sock2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd_out <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Find out which socket has the largest numeric value as select requires it</span>
<span class="token keyword">int</span> largest_sock <span class="token operator">=</span> sock1 <span class="token operator">&gt;</span> sock2 <span class="token operator">?</span> sock1 <span class="token operator">:</span> sock2<span class="token punctuation">;</span>

<span class="token comment">// Wait up to 10 seconds</span>
tv<span class="token punctuation">.</span>tv_sec <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
tv<span class="token punctuation">.</span>tv_usec <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Call the select</span>
<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">select</span><span class="token punctuation">(</span> largest_sock <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd_in<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd_out<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>tv <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Check if select actually succeed</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span>
    <span class="token comment">// report error and abort</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span>
    <span class="token comment">// timeout; no event detected</span>
<span class="token keyword">else</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">FD_ISSET</span><span class="token punctuation">(</span> sock1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd_in <span class="token punctuation">)</span> <span class="token punctuation">)</span>
        <span class="token comment">// input event on sock1</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">FD_ISSET</span><span class="token punctuation">(</span> sock2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fd_out <span class="token punctuation">)</span> <span class="token punctuation">)</span>
        <span class="token comment">// output event on sock2</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="poll"><a href="#poll" class="header-anchor">#</a> poll</h2> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">poll</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">pollfd</span> <span class="token operator">*</span>fds<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> nfds<span class="token punctuation">,</span> <span class="token keyword">int</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>poll 的功能与 select 类似，也是等待一组描述符中的一个成为就绪状态。</p> <p>poll 中的描述符是 pollfd 类型的数组，pollfd 的定义如下：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">pollfd</span> <span class="token punctuation">{</span>
               <span class="token keyword">int</span>   fd<span class="token punctuation">;</span>         <span class="token comment">/* file descriptor */</span>
               <span class="token keyword">short</span> events<span class="token punctuation">;</span>     <span class="token comment">/* requested events */</span>
               <span class="token keyword">short</span> revents<span class="token punctuation">;</span>    <span class="token comment">/* returned events */</span>
           <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// The structure for two events</span>
<span class="token keyword">struct</span> <span class="token class-name">pollfd</span> fds<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Monitor sock1 for input</span>
fds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fd <span class="token operator">=</span> sock1<span class="token punctuation">;</span>
fds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>events <span class="token operator">=</span> POLLIN<span class="token punctuation">;</span>

<span class="token comment">// Monitor sock2 for output</span>
fds<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fd <span class="token operator">=</span> sock2<span class="token punctuation">;</span>
fds<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>events <span class="token operator">=</span> POLLOUT<span class="token punctuation">;</span>

<span class="token comment">// Wait 10 seconds</span>
<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">poll</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>fds<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Check if poll actually succeed</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span>
    <span class="token comment">// report error and abort</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span>
    <span class="token comment">// timeout; no event detected</span>
<span class="token keyword">else</span>
<span class="token punctuation">{</span>
    <span class="token comment">// If we detect the event, zero it out so we can reuse the structure</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> fds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>revents <span class="token operator">&amp;</span> POLLIN <span class="token punctuation">)</span>
        fds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>revents <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// input event on sock1</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> fds<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>revents <span class="token operator">&amp;</span> POLLOUT <span class="token punctuation">)</span>
        fds<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>revents <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// output event on sock2</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="比较"><a href="#比较" class="header-anchor">#</a> 比较</h2> <h3 id="_1-功能"><a href="#_1-功能" class="header-anchor">#</a> 1. 功能</h3> <p>select 和 poll 的功能基本相同，不过在一些实现细节上有所不同。</p> <ul><li>select 会修改描述符，而 poll 不会；</li> <li>select 的描述符类型使用数组实现，FD_SETSIZE 大小默认为 1024，因此默认只能监听少于 1024 个描述符。如果要监听更多描述符的话，需要修改 FD_SETSIZE 之后重新编译；而 poll 没有描述符数量的限制；</li> <li>poll 提供了更多的事件类型，并且对描述符的重复利用上比 select 高。</li> <li>如果一个线程对某个描述符调用了 select 或者 poll，另一个线程关闭了该描述符，会导致调用结果不确定。</li></ul> <h3 id="_2-速度"><a href="#_2-速度" class="header-anchor">#</a> 2. 速度</h3> <p>select 和 poll 速度都比较慢，每次调用都需要将全部描述符从应用进程缓冲区复制到内核缓冲区。</p> <h3 id="_3-可移植性"><a href="#_3-可移植性" class="header-anchor">#</a> 3. 可移植性</h3> <p>几乎所有的系统都支持 select，但是只有比较新的系统支持 poll。</p> <h2 id="epoll"><a href="#epoll" class="header-anchor">#</a> epoll</h2> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">epoll_create</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">epoll_ctl</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">int</span> op<span class="token punctuation">,</span> <span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> <span class="token operator">*</span>event<span class="token punctuation">)</span>；
<span class="token keyword">int</span> <span class="token function">epoll_wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> <span class="token operator">*</span> events<span class="token punctuation">,</span> <span class="token keyword">int</span> maxevents<span class="token punctuation">,</span> <span class="token keyword">int</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>epoll_ctl() 用于向内核注册新的描述符或者是改变某个文件描述符的状态。已注册的描述符在内核中会被维护在一棵红黑树上，通过回调函数内核会将 I/O 准备好的描述符加入到一个链表中管理，进程调用 epoll_wait() 便可以得到事件完成的描述符。</p> <p>从上面的描述可以看出，epoll 只需要将描述符从进程缓冲区向内核缓冲区拷贝一次，并且进程不需要通过轮询来获得事件完成的描述符。</p> <p>epoll 仅适用于 Linux OS。</p> <p>epoll 比 select 和 poll 更加灵活而且没有描述符数量限制。</p> <p>epoll 对多线程编程更有友好，一个线程调用了 epoll_wait() 另一个线程关闭了同一个描述符也不会产生像 select 和 poll 的不确定情况。</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// Create the epoll descriptor. Only one is needed per app, and is used to monitor all sockets.</span>
<span class="token comment">// The function argument is ignored (it was not before, but now it is), so put your favorite number here</span>
<span class="token keyword">int</span> pollingfd <span class="token operator">=</span> <span class="token function">epoll_create</span><span class="token punctuation">(</span> <span class="token number">0xCAFE</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> pollingfd <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span>
 <span class="token comment">// report error</span>

<span class="token comment">// Initialize the epoll structure in case more members are added in future</span>
<span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> ev <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Associate the connection class instance with the event. You can associate anything</span>
<span class="token comment">// you want, epoll does not use this information. We store a connection class pointer, pConnection1</span>
ev<span class="token punctuation">.</span>data<span class="token punctuation">.</span>ptr <span class="token operator">=</span> pConnection1<span class="token punctuation">;</span>

<span class="token comment">// Monitor for input, and do not automatically rearm the descriptor after the event</span>
ev<span class="token punctuation">.</span>events <span class="token operator">=</span> EPOLLIN <span class="token operator">|</span> EPOLLONESHOT<span class="token punctuation">;</span>
<span class="token comment">// Add the descriptor into the monitoring list. We can do it even if another thread is</span>
<span class="token comment">// waiting in epoll_wait - the descriptor will be properly added</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">epoll_ctl</span><span class="token punctuation">(</span> epollfd<span class="token punctuation">,</span> EPOLL_CTL_ADD<span class="token punctuation">,</span> pConnection1<span class="token operator">-&gt;</span><span class="token function">getSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ev <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">)</span>
    <span class="token comment">// report error</span>

<span class="token comment">// Wait for up to 20 events (assuming we have added maybe 200 sockets before that it may happen)</span>
<span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> pevents<span class="token punctuation">[</span> <span class="token number">20</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Wait for 10 seconds, and retrieve less than 20 epoll_event and store them into epoll_event array</span>
<span class="token keyword">int</span> ready <span class="token operator">=</span> <span class="token function">epoll_wait</span><span class="token punctuation">(</span> pollingfd<span class="token punctuation">,</span> pevents<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Check if epoll actually succeed</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span>
    <span class="token comment">// report error and abort</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span>
    <span class="token comment">// timeout; no event detected</span>
<span class="token keyword">else</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Check if any events detected</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ret<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> pevents<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>events <span class="token operator">&amp;</span> EPOLLIN <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Get back our connection pointer</span>
            Connection <span class="token operator">*</span> c <span class="token operator">=</span> <span class="token punctuation">(</span>Connection<span class="token operator">*</span><span class="token punctuation">)</span> pevents<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>ptr<span class="token punctuation">;</span>
            c<span class="token operator">-&gt;</span><span class="token function">handleReadEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="工作模式"><a href="#工作模式" class="header-anchor">#</a> 工作模式</h2> <p>epoll 的描述符事件有两种触发模式：LT（level trigger）和 ET（edge trigger）。</p> <h3 id="_1-lt-模式"><a href="#_1-lt-模式" class="header-anchor">#</a> 1. LT 模式</h3> <p>当 epoll_wait() 检测到描述符事件到达时，将此事件通知进程，进程可以不立即处理该事件，下次调用 epoll_wait() 会再次通知进程。是默认的一种模式，并且同时支持 Blocking 和 No-Blocking。</p> <h3 id="_2-et-模式"><a href="#_2-et-模式" class="header-anchor">#</a> 2. ET 模式</h3> <p>和 LT 模式不同的是，通知之后进程必须立即处理事件，下次再调用 epoll_wait() 时不会再得到事件到达的通知。</p> <p>很大程度上减少了 epoll 事件被重复触发的次数，因此效率要比 LT 模式高。只支持 No-Blocking，以避免由于一个文件句柄的阻塞读/阻塞写操作把处理多个文件描述符的任务饿死。</p> <h2 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h2> <p>很容易产生一种错觉认为只要用 epoll 就可以了，select 和 poll 都已经过时了，其实它们都有各自的使用场景。</p> <h3 id="_1-select-应用场景"><a href="#_1-select-应用场景" class="header-anchor">#</a> 1. select 应用场景</h3> <p>select 的 timeout 参数精度为微秒，而 poll 和 epoll 为毫秒，因此 select 更加适用于实时性要求比较高的场景，比如核反应堆的控制。</p> <p>select 可移植性更好，几乎被所有主流平台所支持。</p> <h3 id="_2-poll-应用场景"><a href="#_2-poll-应用场景" class="header-anchor">#</a> 2. poll 应用场景</h3> <p>poll 没有最大描述符数量的限制，如果平台支持并且对实时性要求不高，应该使用 poll 而不是 select。</p> <h3 id="_3-epoll-应用场景"><a href="#_3-epoll-应用场景" class="header-anchor">#</a> 3. epoll 应用场景</h3> <p>只需要运行在 Linux 平台上，有大量的描述符需要同时轮询，并且这些连接最好是长连接。</p> <p>需要同时监控小于 1000 个描述符，就没有必要使用 epoll，因为这个应用场景下并不能体现 epoll 的优势。</p> <p>需要监控的描述符状态变化多，而且都是非常短暂的，也没有必要使用 epoll。因为 epoll 中的所有描述符都存储在内核中，造成每次需要对描述符的状态改变都需要通过 epoll_ctl() 进行系统调用，频繁系统调用降低效率。并且 epoll 的描述符存储在内核，不容易调试。</p></div> <!----> <div class="readMore-wrapper"><span class="readMore">阅读全文</span></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/FE-Interview-Questions/compute-docs/Redis.html" class="prev">Redis</a></span> <span class="next"><a href="/FE-Interview-Questions/compute-docs/攻击技术.html">攻击技术</a>
      →
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="解锁文章" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">解锁文章</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button type="button" class="el-button el-button--default"><!----><!----><span>取 消</span></button> <button type="button" class="el-button el-button--primary"><!----><!----><span>确 定</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/FE-Interview-Questions/assets/js/app.1516a5c8.js" defer></script><script src="/FE-Interview-Questions/assets/js/4.5257618b.js" defer></script><script src="/FE-Interview-Questions/assets/js/2.de1b844a.js" defer></script><script src="/FE-Interview-Questions/assets/js/160.c1f7f702.js" defer></script><script src="/FE-Interview-Questions/assets/js/16.9ef3ba34.js" defer></script>
  </body>
</html>
